<!DOCTYPE html>
<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ğŸ’µì…ê¸ˆë‚´ì—­ë“±ë¡ğŸ’µ</title>
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!â€” Custom styles for this template â€”>
    <link href="/css/cheatsheet.css" rel="stylesheet">

    <!â€” jquery webjars add â€”>
    <script src="/webjars/jquery/3.6.0/jquery.min.js"></script>
    <script>
        function depositdo() {
            if (document.getElementById("use").value == "") {
                alert("ì…ê¸ˆìë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
                document.getElementById("use").focus();
                return false;
            } else if (document.getElementById("price").value == "") {
                alert("ê¸ˆì•¡ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
                document.getElementById("price").focus();
                return false;
            } else {
                alert("ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
                const frm = document.frm;
                frm.setAttribute("method", "post");
                frm.setAttribute("action", "/board/depositdo");
                frm.submit();
                return true;
            }
        }
        function gotolist() {
            window.location.href = "/board/list";
        }
        $(document).ready(function () {
            //ë“±ë¡ ì´ë²¤íŠ¸ ì§„í–‰
            $("#registerInfo").on("click", function () {
                if(invalid() == true){
                    $("#price").removeClass('is-invalid');
                    // ì•„ë˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬
                    $.post("/board/depositdo", $("form[name=frm]").serialize() , function (data) {
                        alert(data);
                        if(data.search('ì„±ê³µ') > 0){
                            $(location).attr("href", "/board/list");
                        }
                    });
                }
            });
            $(".gotolist").on("click", function () {
                $(location).attr("href", "/board/list");
            });
        });
    </script>
</head>
<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/cheatsheet.css" rel="stylesheet">
<body>
<article class="my-3" style="display: flex; justify-content: center; flex-direction: column; align-items: center">
    <div class="bd-heading sticky-xl-top mt-5 mb-3 mt-xl-0 mb-xl-2">
        <h3>ğŸ’µì…ê¸ˆë‚´ì—­ë“±ë¡ğŸ’µ</h3>
    </div>
    <br>
    </div>
    <div class="bd-example register-outline" style="width: 40%; display: flex; justify-content: center">
        <form name="frm" style="width: 90%">
            <br>
            <div class="mb-3" style="width: 100%">
                <label class="form-label">ì…ê¸ˆì</label>
                <input name="use" id="use" type="text" class="form-control" aria-describedby="emailHelp" placeholder="ì…ê¸ˆìëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" required>
            </div>
            <div class="mb-3" style="width: 100%">
                <label class="form-label">ê¸ˆì•¡</label>
                <input name="price" id="price" type="text" class="form-control" onkeyup="invalid()" placeholder="ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”(ìˆ«ìë§Œì…ë ¥)" required>
                <div class="valid-feedback">
                    ì…ë ¥ ì™„ë£Œ.
                </div>
                <div class="invalid-feedback price-feedback">
                    ê¸ˆì•¡ì„ ë˜‘ë°”ë¡œ ì…ë ¥ í•˜ì„¸ìš”.
                </div>
            </div>
            <br>
            <div style="display: flex; justify-content: center">
                <button type="submit" class="btn btn-primary" id="registerInfo">ë“±ë¡</button>&nbsp;
                <button type="submit" class="btn btn-secondary gotolist">ëª©ë¡ìœ¼ë¡œê°€ê¸°</button>
            </div>
            <br>
        </form>
        <br>
    </div>
</article>
<script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/js/cheatsheet.js"></script>
<script src="/js/bankbook-validation.js"></script>
</body>
</html>